---
title: '원터치 세팅'
description: 'LeRobot 환경을 한 번에 설정하는 자동화 스크립트 가이드'
---

import Callout from '../../../../../../components/Callout.astro';
import Tabs from '../../../../../../components/Tabs.astro';

# 원터치 세팅

<Callout type="info" title="왜 원터치 세팅이 필요한가?">
LeRobot 환경을 수동으로 설정하려면 여러 단계를 거쳐야 합니다.  
이 가이드에서는 **uv 설치, LeRobot 다운로드, 가상환경 구성, USB 포트 권한 설정, udev 규칙 생성**까지  
모든 과정을 **단 한 번의 스크립트 실행**으로 완료할 수 있는 방법을 제공합니다.
</Callout>

---

## 목적 및 개요

LeRobot을 사용하기 위해서는 다음과 같은 여러 설정 단계가 필요합니다:

- Python 가상환경 구성 (uv 설치 및 Python 3.10 환경 생성)
- LeRobot 소스 코드 다운로드 및 설치
- ffmpeg 및 필수 라이브러리 설치
- USB 포트 권한 설정
- udev 규칙을 통한 장치 포트 고정

이 모든 과정을 **하나의 셸 스크립트**로 자동화하여,  
처음 시작하는 사용자도 간편하게 LeRobot 환경을 구축할 수 있도록 합니다.

---

## 1. 스크립트 파일 생성

터미널을 열고 아래 명령어를 입력하여 스크립트 파일을 생성합니다.

```bash
nano setup_lerobot.sh
# 또는 
# gedit setup_lerobot.sh
```


---

## 2. 스크립트 내용 입력

아래 내용을 복사하여 파일에 붙여넣습니다.

```bash
#!/bin/bash
set -e  # 오류 발생 시 즉시 종료

echo "🚀 LeRobot 설치 및 설정을 시작합니다..."

# 1단계: uv 설치
echo "📦 uv 설치 중..."
curl -LsSf https://astral.sh/uv/install.sh | sh

# uv 경로 반영
export PATH="$HOME/.local/bin:$PATH"

# 2단계: LeRobot 소스 코드 다운로드
echo "📥 LeRobot 소스 다운로드 중..."
if [ ! -d "lerobot" ]; then
    git clone https://github.com/huggingface/lerobot.git
fi
cd lerobot

# 3단계: Python 3.10 가상환경 생성
echo "🐍 Python 3.10 환경 생성 중..."
uv venv --python 3.10
source .venv/bin/activate

# 4단계: ffmpeg 설치
echo "🎞 ffmpeg 설치 중..."
sudo apt update -y
sudo apt install -y ffmpeg

# 5단계: LeRobot 설치
echo "🤖 LeRobot 설치 중..."
uv pip install -e .
uv pip install -e ".[feetech]"
uv pip install rerun-sdk


# 6단계: USB 포트 권한 설정
echo "🔌 USB 포트 권한 설정 중..."
for port in /dev/ttyACM*; do
    if [ -e "$port" ]; then
        echo "  권한 부여: $port"
        sudo chmod 666 "$port"
    fi
done

sudo usermod -a -G dialout $USER
echo "✅ 현재 사용자를 dialout 그룹에 추가했습니다. (재로그인 필요)"

# 7단계: udev 규칙 설정
echo "⚙️ udev 규칙 생성 중..."
read -p "리더 보드(leader)의 포트 이름을 입력하세요 (예: /dev/ttyACM0): " leader_port
read -p "팔로워 보드(follower)의 포트 이름을 입력하세요 (예: /dev/ttyACM1): " follower_port

leader_serial=$(udevadm info -a -n "$leader_port" | grep '{serial}' -m 1 | cut -d'"' -f2)
follower_serial=$(udevadm info -a -n "$follower_port" | grep '{serial}' -m 1 | cut -d'"' -f2)

if [ -z "$leader_serial" ] || [ -z "$follower_serial" ]; then
    echo "❌ 시리얼 번호를 찾을 수 없습니다. USB 연결을 확인하세요."
    exit 1
fi

echo "📄 /etc/udev/rules.d/99-serial.rules 생성 중..."
sudo bash -c "cat > /etc/udev/rules.d/99-serial.rules" <<EOF
SUBSYSTEM=="tty", ATTRS{serial}=="$leader_serial", SYMLINK+="so101_leader"
SUBSYSTEM=="tty", ATTRS{serial}=="$follower_serial", SYMLINK+="so101_follower"
EOF

# 8단계: udev 규칙 적용
sudo udevadm control --reload-rules
sudo udevadm trigger

echo "🔍 적용된 심볼릭 링크 확인:"
ls -l /dev/so101_* || echo "링크가 아직 생성되지 않았습니다. USB를 재연결하세요."

echo ""
echo "🎉 모든 설정이 완료되었습니다!"
echo "📌 새 터미널을 열거나 'source ~/.bashrc' 후 다음 명령을 실행하세요:"
echo "cd lerobot && source .venv/bin/activate"
echo ""
```

파일을 저장하고 닫습니다 (nano에서는 `Ctrl+X` → `Y` → `Enter`).

---

## 3. 실행 권한 부여

스크립트 파일에 실행 권한을 부여합니다.

```bash
chmod +x setup_lerobot.sh
```

---

## 4. 로봇 기기 연결

스크립트를 실행하기 전에, USB 케이블로 로봇을 연결합니다.

<Callout type="warning" title="연결 순서 주의">
**리더 암(검정색)** 을 먼저 연결한 후,  
**팔로워 암(보라색)** 을 연결합니다.  
이렇게 하면 스크립트 실행 시 포트 번호를 쉽게 확인할 수 있습니다.
</Callout>

---

## 5. 스크립트 실행

이제 스크립트를 실행합니다.

```bash
./setup_lerobot.sh
```

스크립트가 실행되면 다음 작업이 자동으로 진행됩니다:

1. uv 설치
2. LeRobot 소스 코드 다운로드
3. Python 3.10 가상환경 생성
4. ffmpeg 설치
5. LeRobot 및 Feetech 라이브러리 설치
6. USB 포트 권한 설정
7. udev 규칙 생성 (리더/팔로워 포트 입력 필요)
8. udev 규칙 적용

<Callout type="tip" title="포트 입력 안내">
스크립트 실행 중 리더와 팔로워의 포트 이름을 입력하라는 메시지가 나타납니다.  
`ls /dev/ttyACM*` 명령으로 확인한 포트 이름 (예: `/dev/ttyACM0`, `/dev/ttyACM1`)을 입력하세요.
</Callout>

---

## 6. 설정 완료 확인

스크립트가 성공적으로 완료되면, 다음과 같이 고정된 포트가 생성됩니다.

```bash
ls -l /dev/so101_*
```

예시 출력:
```
lrwxrwxrwx 1 root root 7 10월 30 12:00 /dev/so101_follower -> ttyACM1
lrwxrwxrwx 1 root root 7 10월 30 12:00 /dev/so101_leader -> ttyACM0
```

<Callout type="success" title="설정 완료!">
이제 LeRobot 환경이 완벽하게 구성되었습니다!  
새 터미널을 열거나 `source ~/.bashrc`를 실행한 후,  
`cd lerobot && source .venv/bin/activate` 명령으로 가상환경을 활성화하여 사용할 수 있습니다.
</Callout>

---

## 문제 해결

### Permission denied 오류

```bash
sudo chmod 666 /dev/ttyACM*
sudo usermod -a -G dialout $USER
```

명령 실행 후, **로그아웃했다가 다시 로그인**하세요.

### 시리얼 번호를 찾을 수 없다는 오류

USB 연결을 확인하고, 다음 명령으로 장치가 제대로 인식되는지 확인하세요.

```bash
ls /dev/ttyACM*
udevadm info -a -n /dev/ttyACM0 | grep '{serial}'
```

### udev 규칙이 적용되지 않음

```bash
sudo udevadm control --reload-rules
sudo udevadm trigger
```

명령을 다시 실행하거나, USB를 재연결해 보세요.

---

## 다음 단계

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 2rem 0;">
  <a href="/docs/physical-ai/lerobot/so-arm/software/calibration" style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-lg); text-decoration: none; transition: all var(--transition-base);">
    <h3 style="margin: 0 0 0.5rem 0; color: var(--color-accent);"><i class="fas fa-cog"></i> Calibration</h3>
    <p style="margin: 0; color: var(--color-text-secondary); font-size: var(--text-sm);">Teleoperation을 위한 로봇 자세 조정</p>
  </a>
</div>
